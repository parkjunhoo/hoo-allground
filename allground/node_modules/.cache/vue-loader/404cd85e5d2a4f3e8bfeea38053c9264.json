{"remainingRequest":"C:\\Users\\lol\\Desktop\\myproject\\server\\allground\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lol\\Desktop\\myproject\\server\\allground\\src\\components\\TipTap\\Editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lol\\Desktop\\myproject\\server\\allground\\src\\components\\TipTap\\Editor.vue","mtime":1621088633468},{"path":"C:\\Users\\lol\\Desktop\\myproject\\server\\allground\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lol\\Desktop\\myproject\\server\\allground\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\lol\\Desktop\\myproject\\server\\allground\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lol\\Desktop\\myproject\\server\\allground\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KDQppbXBvcnQgeyBFZGl0b3IsIEVkaXRvckNvbnRlbnQgfSBmcm9tICdAdGlwdGFwL3Z1ZS0yJw0KaW1wb3J0IFN0YXJ0ZXJLaXQgZnJvbSAnQHRpcHRhcC9zdGFydGVyLWtpdCcNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7DQogICAgRWRpdG9yQ29udGVudCwNCiAgfSwNCg0KICBwcm9wczogew0KICAgIHZhbHVlOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnJywNCiAgICB9LA0KICB9LA0KDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGVkaXRvcjogbnVsbCwNCiAgICB9DQogIH0sDQoNCiAgd2F0Y2g6IHsNCiAgICB2YWx1ZSh2YWx1ZSkgew0KICAgICAgLy8gSFRNTA0KICAgICAgY29uc3QgaXNTYW1lID0gdGhpcy5lZGl0b3IuZ2V0SFRNTCgpID09PSB2YWx1ZQ0KDQogICAgICAvLyBKU09ODQogICAgICAvLyBjb25zdCBpc1NhbWUgPSB0aGlzLmVkaXRvci5nZXRKU09OKCkudG9TdHJpbmcoKSA9PT0gdmFsdWUudG9TdHJpbmcoKQ0KDQogICAgICBpZiAoaXNTYW1lKSB7DQogICAgICAgIHJldHVybg0KICAgICAgfQ0KDQogICAgICB0aGlzLmVkaXRvci5jb21tYW5kcy5zZXRDb250ZW50KHRoaXMudmFsdWUsIGZhbHNlKQ0KICAgIH0sDQogIH0sDQoNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmVkaXRvciA9IG5ldyBFZGl0b3Ioew0KICAgICAgZXh0ZW5zaW9uczogWw0KICAgICAgICBTdGFydGVyS2l0LA0KICAgICAgXSwNCiAgICAgIGNvbnRlbnQ6IHRoaXMudmFsdWUsDQogICAgICBvblVwZGF0ZTogKCkgPT4gew0KICAgICAgICAvLyBIVE1MDQogICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdGhpcy5lZGl0b3IuZ2V0SFRNTCgpKQ0KDQogICAgICAgIC8vIEpTT04NCiAgICAgICAgLy8gdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLmVkaXRvci5nZXRKU09OKCkpDQogICAgICB9LA0KICAgIH0pDQogIH0sDQoNCiAgYmVmb3JlRGVzdHJveSgpIHsNCiAgICB0aGlzLmVkaXRvci5kZXN0cm95KCkNCiAgfSwNCn0NCg=="},{"version":3,"sources":["Editor.vue"],"names":[],"mappings":";;;;;AAKA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Editor.vue","sourceRoot":"src/components/TipTap","sourcesContent":["<template>\r\n  <editor-content :editor=\"editor\" />\r\n</template>\r\n\r\n<script>\r\nimport { Editor, EditorContent } from '@tiptap/vue-2'\r\nimport StarterKit from '@tiptap/starter-kit'\r\n\r\nexport default {\r\n  components: {\r\n    EditorContent,\r\n  },\r\n\r\n  props: {\r\n    value: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      editor: null,\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    value(value) {\r\n      // HTML\r\n      const isSame = this.editor.getHTML() === value\r\n\r\n      // JSON\r\n      // const isSame = this.editor.getJSON().toString() === value.toString()\r\n\r\n      if (isSame) {\r\n        return\r\n      }\r\n\r\n      this.editor.commands.setContent(this.value, false)\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.editor = new Editor({\r\n      extensions: [\r\n        StarterKit,\r\n      ],\r\n      content: this.value,\r\n      onUpdate: () => {\r\n        // HTML\r\n        this.$emit('input', this.editor.getHTML())\r\n\r\n        // JSON\r\n        // this.$emit('input', this.editor.getJSON())\r\n      },\r\n    })\r\n  },\r\n\r\n  beforeDestroy() {\r\n    this.editor.destroy()\r\n  },\r\n}\r\n</script>"]}]}