{"remainingRequest":"C:\\Users\\lol\\Desktop\\server\\allground\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lol\\Desktop\\server\\allground\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\lol\\Desktop\\server\\allground\\src\\store\\modules\\api\\Auth.js","dependencies":[{"path":"C:\\Users\\lol\\Desktop\\server\\allground\\src\\store\\modules\\api\\Auth.js","mtime":1621793376671},{"path":"C:\\Users\\lol\\Desktop\\server\\allground\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1617667255123},{"path":"C:\\Users\\lol\\Desktop\\server\\allground\\node_modules\\babel-loader\\lib\\index.js","mtime":1617667255120},{"path":"C:\\Users\\lol\\Desktop\\server\\allground\\node_modules\\eslint-loader\\index.js","mtime":1617667259951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX2F4aW9zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJheGlvcyIpKTsKCnZhciBfcm91dGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuLi8uLi8uLi9yb3V0ZXIiKSk7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKdmFyIF9kZWZhdWx0ID0gewogIHN0YXRlOiB7CiAgICBsb2dnZWQ6IGZhbHNlLAogICAgYWRtaW46IGZhbHNlCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldF9sb2dnZWQ6IGZ1bmN0aW9uIHNldF9sb2dnZWQoc3RhdGUsIGJvb2wpIHsKICAgICAgc3RhdGUubG9nZ2VkID0gYm9vbDsKICAgIH0sCiAgICBzZXRfYWRtaW46IGZ1bmN0aW9uIHNldF9hZG1pbihzdGF0ZSwgYm9vbCkgewogICAgICBzdGF0ZS5hZG1pbiA9IGJvb2w7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBnZXRfYXV0aF9jaGVjazogZnVuY3Rpb24gZ2V0X2F1dGhfY2hlY2sobSkgewogICAgICBfYXhpb3MuZGVmYXVsdC5nZXQoJ2FwaS9hdXRoL2NoZWNrJykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhID09PSAnbm90X2xvZ2dlZCcpIHsKICAgICAgICAgIG0uY29tbWl0KCdzZXRfbG9nZ2VkJywgZmFsc2UpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKHJlcy5kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgIG0uY29tbWl0KCdzZXRfbG9nZ2VkJywgdHJ1ZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAocmVzLmRhdGEuYWRtaW4pIG0uY29tbWl0KCdzZXRfYWRtaW4nLCB0cnVlKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0X2F1dGhfbG9nb3V0OiBmdW5jdGlvbiBnZXRfYXV0aF9sb2dvdXQobSkgewogICAgICBfYXhpb3MuZGVmYXVsdC5nZXQoJ2FwaS9hdXRoL2xvZ291dCcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YSA9PT0gJ2xvZ2dlZF9vdXQnKSB7CiAgICAgICAgICBtLmNvbW1pdCgnc2V0X2xvZ2dlZCcsIGZhbHNlKTsKICAgICAgICAgIGFsZXJ0KCfroZzqt7jslYTsm4Mg65CY7JeI7Iq164uI64ukLicpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcG9zdF9hdXRoX2xvZ2luOiBmdW5jdGlvbiBwb3N0X2F1dGhfbG9naW4obSwgaW5wdXQpIHsKICAgICAgX2F4aW9zLmRlZmF1bHQucG9zdCgnYXBpL2F1dGgvbG9naW4nLCB7CiAgICAgICAgaWQ6IGlucHV0LmlkLAogICAgICAgIHBhc3N3b3JkOiBpbnB1dC5wYXNzd29yZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEgPT09ICdhbHJlYWR5X2xvZ2dlZF9pbicpIHsKICAgICAgICAgIGFsZXJ0KCfsnbTrr7gg66Gc6re47J24IOuQmOyWtOyeiOyKteuLiOuLpC4nKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmIChyZXMuZGF0YSA9PT0gJ2xvZ2dlZF9pbicpIHsKICAgICAgICAgIG0uY29tbWl0KCdzZXRfbG9nZ2VkJywgdHJ1ZSk7CiAgICAgICAgICBhbGVydCgn66Gc6re47J24IOuQmOyXiOyKteuLiOuLpC4nKTsKCiAgICAgICAgICBfcm91dGVyLmRlZmF1bHQucHVzaCgnL2FkbWluJyk7CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKHJlcy5kYXRhID09PSAnbm90X3Bhc3N3b3JkJykgewogICAgICAgICAgYWxlcnQoJ+u5hOuwgOuyiO2YuOqwgCDti4Drpr3ri4jri6QuJyk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBhbGVydCgn7JWE7J2065SU66W8IOuLpOyLnCDtmZXsnbjtlbTso7zshLjsmpQuJyk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW9kdWxlczoge30KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"sources":["C:/Users/lol/Desktop/server/allground/src/store/modules/api/Auth.js"],"names":["state","logged","admin","mutations","set_logged","bool","set_admin","actions","get_auth_check","m","axios","get","then","res","data","commit","success","get_auth_logout","alert","post_auth_login","input","post","id","password","router","push","modules"],"mappings":";;;;;;;AAAA;;AACA;;;;eACe;AACXA,EAAAA,KAAK,EAAC;AACFC,IAAAA,MAAM,EAAC,KADL;AAEFC,IAAAA,KAAK,EAAC;AAFJ,GADK;AAKXC,EAAAA,SAAS,EAAC;AACNC,IAAAA,UADM,sBACKJ,KADL,EACWK,IADX,EACgB;AAClBL,MAAAA,KAAK,CAACC,MAAN,GAAeI,IAAf;AACH,KAHK;AAINC,IAAAA,SAJM,qBAIIN,KAJJ,EAIUK,IAJV,EAIe;AACjBL,MAAAA,KAAK,CAACE,KAAN,GAAcG,IAAd;AACH;AANK,GALC;AAaXE,EAAAA,OAAO,EAAC;AACJC,IAAAA,cADI,0BACWC,CADX,EACa;AACbC,qBAAMC,GAAN,CAAU,gBAAV,EACCC,IADD,CACM,UAACC,GAAD,EAAO;AACT,YAAGA,GAAG,CAACC,IAAJ,KAAW,YAAd,EAA2B;AACvBL,UAAAA,CAAC,CAACM,MAAF,CAAS,YAAT,EAAsB,KAAtB;AACA;AACH;;AACD,YAAGF,GAAG,CAACC,IAAJ,CAASE,OAAZ,EAAoB;AAChBP,UAAAA,CAAC,CAACM,MAAF,CAAS,YAAT,EAAsB,IAAtB;AACH;;AACD,YAAGF,GAAG,CAACC,IAAJ,CAASZ,KAAZ,EAAmBO,CAAC,CAACM,MAAF,CAAS,WAAT,EAAqB,IAArB;AACtB,OAVD;AAWH,KAbG;AAcJE,IAAAA,eAdI,2BAcYR,CAdZ,EAcc;AACdC,qBAAMC,GAAN,CAAU,iBAAV,EACCC,IADD,CACM,UAACC,GAAD,EAAO;AACT,YAAGA,GAAG,CAACC,IAAJ,KAAW,YAAd,EAA2B;AACvBL,UAAAA,CAAC,CAACM,MAAF,CAAS,YAAT,EAAsB,KAAtB;AACAG,UAAAA,KAAK,CAAC,aAAD,CAAL;AACH;AACJ,OAND;AAOH,KAtBG;AAuBJC,IAAAA,eAvBI,2BAuBYV,CAvBZ,EAuBcW,KAvBd,EAuBoB;AACpBV,qBAAMW,IAAN,CAAW,gBAAX,EAA4B;AACxBC,QAAAA,EAAE,EAACF,KAAK,CAACE,EADe;AAExBC,QAAAA,QAAQ,EAACH,KAAK,CAACG;AAFS,OAA5B,EAICX,IAJD,CAIM,UAACC,GAAD,EAAO;AACT,YAAGA,GAAG,CAACC,IAAJ,KAAW,mBAAd,EAAkC;AAC9BI,UAAAA,KAAK,CAAC,gBAAD,CAAL;AACA;AACH;;AACD,YAAGL,GAAG,CAACC,IAAJ,KAAW,WAAd,EAA0B;AACtBL,UAAAA,CAAC,CAACM,MAAF,CAAS,YAAT,EAAsB,IAAtB;AACAG,UAAAA,KAAK,CAAC,YAAD,CAAL;;AACAM,0BAAOC,IAAP,CAAY,QAAZ;;AACA;AACH;;AACD,YAAGZ,GAAG,CAACC,IAAJ,KAAW,cAAd,EAA6B;AACzBI,UAAAA,KAAK,CAAC,aAAD,CAAL;AACA;AACH;;AACDA,QAAAA,KAAK,CAAC,iBAAD,CAAL;AACH,OApBD;AAqBH;AA7CG,GAbG;AA4DXQ,EAAAA,OAAO,EAAC;AA5DG,C","sourcesContent":["import axios from 'axios'\r\nimport router from '../../../router';\r\nexport default {\r\n    state:{\r\n        logged:false,\r\n        admin:false,\r\n    },\r\n    mutations:{\r\n        set_logged(state,bool){\r\n            state.logged = bool;\r\n        },\r\n        set_admin(state,bool){\r\n            state.admin = bool;\r\n        },\r\n    },\r\n    actions:{\r\n        get_auth_check(m){\r\n            axios.get('api/auth/check')\r\n            .then((res)=>{\r\n                if(res.data==='not_logged'){\r\n                    m.commit('set_logged',false);\r\n                    return;\r\n                }\r\n                if(res.data.success){\r\n                    m.commit('set_logged',true);\r\n                }\r\n                if(res.data.admin) m.commit('set_admin',true);\r\n            })\r\n        },\r\n        get_auth_logout(m){\r\n            axios.get('api/auth/logout')\r\n            .then((res)=>{\r\n                if(res.data==='logged_out'){\r\n                    m.commit('set_logged',false);\r\n                    alert('로그아웃 되었습니다.');\r\n                }\r\n            })\r\n        },\r\n        post_auth_login(m,input){\r\n            axios.post('api/auth/login',{\r\n                id:input.id,\r\n                password:input.password\r\n            })\r\n            .then((res)=>{\r\n                if(res.data==='already_logged_in'){\r\n                    alert('이미 로그인 되어있습니다.');\r\n                    return;\r\n                }\r\n                if(res.data==='logged_in'){\r\n                    m.commit('set_logged',true);\r\n                    alert('로그인 되었습니다.');\r\n                    router.push('/admin');\r\n                    return;\r\n                }\r\n                if(res.data==='not_password'){\r\n                    alert('비밀번호가 틀립니다.');\r\n                    return;\r\n                }\r\n                alert('아이디를 다시 확인해주세요.');\r\n            })\r\n        },\r\n    },\r\n    modules:{\r\n        \r\n    },\r\n}"]}]}