'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var core = require('@tiptap/core');
var prosemirrorModel = require('prosemirror-model');
var hosticDom = require('hostic-dom');

function getHTMLFromFragment(doc, schema) {
    return prosemirrorModel.DOMSerializer
        .fromSchema(schema)
        .serializeFragment(doc.content, {
        document: hosticDom.createHTMLDocument(),
    })
        // @ts-ignore
        .render();
}

function generateHTML(doc, extensions) {
    const schema = core.getSchema(extensions);
    const contentNode = prosemirrorModel.Node.fromJSON(schema, doc);
    return getHTMLFromFragment(contentNode, schema);
}

function generateJSON(html, extensions) {
    const schema = core.getSchema(extensions);
    const dom = hosticDom.parseHTML(html);
    return prosemirrorModel.DOMParser.fromSchema(schema)
        .parse(dom)
        .toJSON();
}

exports.generateHTML = generateHTML;
exports.generateJSON = generateJSON;
//# sourceMappingURL=tiptap-html.cjs.js.map
