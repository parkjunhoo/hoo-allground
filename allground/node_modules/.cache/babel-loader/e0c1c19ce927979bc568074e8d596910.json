{"remainingRequest":"C:\\Users\\lol\\Desktop\\myproject\\server\\allground\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lol\\Desktop\\myproject\\server\\allground\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\lol\\Desktop\\myproject\\server\\allground\\src\\store\\modules\\api\\Auth.js","dependencies":[{"path":"C:\\Users\\lol\\Desktop\\myproject\\server\\allground\\src\\store\\modules\\api\\Auth.js","mtime":1621227373768},{"path":"C:\\Users\\lol\\Desktop\\myproject\\server\\allground\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1617667255123},{"path":"C:\\Users\\lol\\Desktop\\myproject\\server\\allground\\node_modules\\babel-loader\\lib\\index.js","mtime":1617667255120},{"path":"C:\\Users\\lol\\Desktop\\myproject\\server\\allground\\node_modules\\eslint-loader\\index.js","mtime":1617667259951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi8uLi8uLi9yb3V0ZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHsKICAgIGxvZ2dlZDogZmFsc2UsCiAgICBhZG1pbjogZmFsc2UKICB9LAogIG11dGF0aW9uczogewogICAgc2V0X2xvZ2dlZDogZnVuY3Rpb24gc2V0X2xvZ2dlZChzdGF0ZSwgYm9vbCkgewogICAgICBzdGF0ZS5sb2dnZWQgPSBib29sOwogICAgfSwKICAgIHNldF9hZG1pbjogZnVuY3Rpb24gc2V0X2FkbWluKHN0YXRlLCBib29sKSB7CiAgICAgIHN0YXRlLmFkbWluID0gYm9vbDsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGdldF9hdXRoX2NoZWNrOiBmdW5jdGlvbiBnZXRfYXV0aF9jaGVjayhtKSB7CiAgICAgIGF4aW9zLmdldCgnYXBpL2F1dGgvY2hlY2snKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEgPT09ICdub3RfbG9nZ2VkJykgewogICAgICAgICAgbS5jb21taXQoJ3NldF9sb2dnZWQnLCBmYWxzZSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAocmVzLmRhdGEuc3VjY2VzcykgewogICAgICAgICAgbS5jb21taXQoJ3NldF9sb2dnZWQnLCB0cnVlKTsKICAgICAgICB9CgogICAgICAgIGlmIChyZXMuZGF0YS5hZG1pbikgbS5jb21taXQoJ3NldF9hZG1pbicsIHRydWUpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRfYXV0aF9sb2dvdXQ6IGZ1bmN0aW9uIGdldF9hdXRoX2xvZ291dChtKSB7CiAgICAgIGF4aW9zLmdldCgnYXBpL2F1dGgvbG9nb3V0JykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhID09PSAnbG9nZ2VkX291dCcpIHsKICAgICAgICAgIG0uY29tbWl0KCdzZXRfbG9nZ2VkJywgZmFsc2UpOwogICAgICAgICAgYWxlcnQoJ+uhnOq3uOyVhOybgyDrkJjsl4jsirXri4jri6QuJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBwb3N0X2F1dGhfbG9naW46IGZ1bmN0aW9uIHBvc3RfYXV0aF9sb2dpbihtLCBpbnB1dCkgewogICAgICBheGlvcy5wb3N0KCdhcGkvYXV0aC9sb2dpbicsIHsKICAgICAgICBpZDogaW5wdXQuaWQsCiAgICAgICAgcGFzc3dvcmQ6IGlucHV0LnBhc3N3b3JkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YSA9PT0gJ2FscmVhZHlfbG9nZ2VkX2luJykgewogICAgICAgICAgYWxlcnQoJ+ydtOuvuCDroZzqt7jsnbgg65CY7Ja07J6I7Iq164uI64ukLicpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKHJlcy5kYXRhID09PSAnbG9nZ2VkX2luJykgewogICAgICAgICAgbS5jb21taXQoJ3NldF9sb2dnZWQnLCB0cnVlKTsKICAgICAgICAgIGFsZXJ0KCfroZzqt7jsnbgg65CY7JeI7Iq164uI64ukLicpOwogICAgICAgICAgcm91dGVyLnB1c2goJy9hZG1pbicpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKHJlcy5kYXRhID09PSAnbm90X3Bhc3N3b3JkJykgewogICAgICAgICAgYWxlcnQoJ+u5hOuwgOuyiO2YuOqwgCDti4Drpr3ri4jri6QuJyk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBhbGVydCgn7JWE7J2065SU66W8IOuLpOyLnCDtmZXsnbjtlbTso7zshLjsmpQuJyk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW9kdWxlczoge30KfTs="},{"version":3,"sources":["C:/Users/lol/Desktop/myproject/server/allground/src/store/modules/api/Auth.js"],"names":["axios","router","state","logged","admin","mutations","set_logged","bool","set_admin","actions","get_auth_check","m","get","then","res","data","commit","success","get_auth_logout","alert","post_auth_login","input","post","id","password","push","modules"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,eAAe;AACXC,EAAAA,KAAK,EAAC;AACFC,IAAAA,MAAM,EAAC,KADL;AAEFC,IAAAA,KAAK,EAAC;AAFJ,GADK;AAKXC,EAAAA,SAAS,EAAC;AACNC,IAAAA,UADM,sBACKJ,KADL,EACWK,IADX,EACgB;AAClBL,MAAAA,KAAK,CAACC,MAAN,GAAeI,IAAf;AACH,KAHK;AAINC,IAAAA,SAJM,qBAIIN,KAJJ,EAIUK,IAJV,EAIe;AACjBL,MAAAA,KAAK,CAACE,KAAN,GAAcG,IAAd;AACH;AANK,GALC;AAaXE,EAAAA,OAAO,EAAC;AACJC,IAAAA,cADI,0BACWC,CADX,EACa;AACbX,MAAAA,KAAK,CAACY,GAAN,CAAU,gBAAV,EACCC,IADD,CACM,UAACC,GAAD,EAAO;AACT,YAAGA,GAAG,CAACC,IAAJ,KAAW,YAAd,EAA2B;AACvBJ,UAAAA,CAAC,CAACK,MAAF,CAAS,YAAT,EAAsB,KAAtB;AACA;AACH;;AACD,YAAGF,GAAG,CAACC,IAAJ,CAASE,OAAZ,EAAoB;AAChBN,UAAAA,CAAC,CAACK,MAAF,CAAS,YAAT,EAAsB,IAAtB;AACH;;AACD,YAAGF,GAAG,CAACC,IAAJ,CAASX,KAAZ,EAAmBO,CAAC,CAACK,MAAF,CAAS,WAAT,EAAqB,IAArB;AACtB,OAVD;AAWH,KAbG;AAcJE,IAAAA,eAdI,2BAcYP,CAdZ,EAcc;AACdX,MAAAA,KAAK,CAACY,GAAN,CAAU,iBAAV,EACCC,IADD,CACM,UAACC,GAAD,EAAO;AACT,YAAGA,GAAG,CAACC,IAAJ,KAAW,YAAd,EAA2B;AACvBJ,UAAAA,CAAC,CAACK,MAAF,CAAS,YAAT,EAAsB,KAAtB;AACAG,UAAAA,KAAK,CAAC,aAAD,CAAL;AACH;AACJ,OAND;AAOH,KAtBG;AAuBJC,IAAAA,eAvBI,2BAuBYT,CAvBZ,EAuBcU,KAvBd,EAuBoB;AACpBrB,MAAAA,KAAK,CAACsB,IAAN,CAAW,gBAAX,EAA4B;AACxBC,QAAAA,EAAE,EAACF,KAAK,CAACE,EADe;AAExBC,QAAAA,QAAQ,EAACH,KAAK,CAACG;AAFS,OAA5B,EAICX,IAJD,CAIM,UAACC,GAAD,EAAO;AACT,YAAGA,GAAG,CAACC,IAAJ,KAAW,mBAAd,EAAkC;AAC9BI,UAAAA,KAAK,CAAC,gBAAD,CAAL;AACA;AACH;;AACD,YAAGL,GAAG,CAACC,IAAJ,KAAW,WAAd,EAA0B;AACtBJ,UAAAA,CAAC,CAACK,MAAF,CAAS,YAAT,EAAsB,IAAtB;AACAG,UAAAA,KAAK,CAAC,YAAD,CAAL;AACAlB,UAAAA,MAAM,CAACwB,IAAP,CAAY,QAAZ;AACA;AACH;;AACD,YAAGX,GAAG,CAACC,IAAJ,KAAW,cAAd,EAA6B;AACzBI,UAAAA,KAAK,CAAC,aAAD,CAAL;AACA;AACH;;AACDA,QAAAA,KAAK,CAAC,iBAAD,CAAL;AACH,OApBD;AAqBH;AA7CG,GAbG;AA4DXO,EAAAA,OAAO,EAAC;AA5DG,CAAf","sourcesContent":["import axios from 'axios'\r\nimport router from '../../../router';\r\nexport default {\r\n    state:{\r\n        logged:false,\r\n        admin:false,\r\n    },\r\n    mutations:{\r\n        set_logged(state,bool){\r\n            state.logged = bool;\r\n        },\r\n        set_admin(state,bool){\r\n            state.admin = bool;\r\n        },\r\n    },\r\n    actions:{\r\n        get_auth_check(m){\r\n            axios.get('api/auth/check')\r\n            .then((res)=>{\r\n                if(res.data==='not_logged'){\r\n                    m.commit('set_logged',false);\r\n                    return;\r\n                }\r\n                if(res.data.success){\r\n                    m.commit('set_logged',true);\r\n                }\r\n                if(res.data.admin) m.commit('set_admin',true);\r\n            })\r\n        },\r\n        get_auth_logout(m){\r\n            axios.get('api/auth/logout')\r\n            .then((res)=>{\r\n                if(res.data==='logged_out'){\r\n                    m.commit('set_logged',false);\r\n                    alert('로그아웃 되었습니다.');\r\n                }\r\n            })\r\n        },\r\n        post_auth_login(m,input){\r\n            axios.post('api/auth/login',{\r\n                id:input.id,\r\n                password:input.password\r\n            })\r\n            .then((res)=>{\r\n                if(res.data==='already_logged_in'){\r\n                    alert('이미 로그인 되어있습니다.');\r\n                    return;\r\n                }\r\n                if(res.data==='logged_in'){\r\n                    m.commit('set_logged',true);\r\n                    alert('로그인 되었습니다.');\r\n                    router.push('/admin');\r\n                    return;\r\n                }\r\n                if(res.data==='not_password'){\r\n                    alert('비밀번호가 틀립니다.');\r\n                    return;\r\n                }\r\n                alert('아이디를 다시 확인해주세요.');\r\n            })\r\n        },\r\n    },\r\n    modules:{\r\n        \r\n    },\r\n}"]}]}